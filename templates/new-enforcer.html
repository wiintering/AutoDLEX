{% include 'include_assets/styles.html' %}
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

</head>
{% if session.loggedin %}
<body>
    <div id="global-loader">
        <div class="whirly-loader">AutoDlex<i class="fa fa-camera" aria-hidden="true"></i></div>
    </div>
    

    <div class="main-wrapper">

    {% include 'include_assets/profile.html'%}


    <div class="sidebar" id="sidebar" style="background-color:  white;">
        <div class="sidebar-inner slimscroll" >
            <div id="sidebar-menu" class="sidebar-menu">
                <div class="dashboard-logo">
                    <a href="{{url_for('index')}}">
                        <img src="static/images/autodlex.png" alt="" style="width: 200px; height: auto; margin-bottom: 80px;">
                    </a>
                </div>
                <ul >
                    <li >
                        <a href="{{ url_for('index') }}"><span class="fa fa-home"></span><span>
                                Dashboard</span> </a>
                    </li>
                         <li >
                        <a href="{{ url_for('violators.violator_list') }}">
                            <span class="fa fa-user-alt"></span>
                            <span> Violator List</span>
                        </a>
                    </li>
                    <li class="active" >
                    <a href="{{ url_for('enforcer.enforcer_data') }}">
                        <span class="fa fa-user-alt"></span>
                            <span> Enforcers</span>
                        </a>
                    </li>
                    <li >
                    <a href="{{ url_for('settled_reports') }}">
                        <span class="fas fa-exclamation-circle"></span>
                            <span  > Settled Reports</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

        <div class="page-wrapper" >
            <div class="content" >
                <nav aria-label="breadcrumb" class="mb-4">
                    <ol class="breadcrumb">
                      <li class="breadcrumb-item"><a href="{{ url_for('enforcer.enforcer_data') }}">Enforcer Management</a></li>
                      <li class="breadcrumb-item active" aria-current="page">Add Enforcer</li>
                    </ol>
                  </nav>
                <div class="page-header">
                    <div class="page-title">
                        <h4>Enforcer Information</h4>
                    </div>
                </div>
                <form action="{{ url_for('enforcer.add_enforcer') }}"  enctype="multipart/form-data"  method="post" style="box-shadow:2px 5px 7px rgba(0, 0, 0, 0.3); ">
                    <div class="card">
                        <div class="card-body">
                            {% if msg %}
                            <i class="alert alert-danger d-flex justify-content-center">
                                <strong>{{msg}}</strong>
                            </i>
                            {% endif %} 
                            <div class="row">
                                <div class="col-lg-3 col-sm-6 col-12">
                                    <div class="form-group">
                                        <label><a style="color: red;">* </a>User Name</label>
                                        <input name="username" type="text"  placeholder="maximum of 10 characters"  required pattern="[a-zA-Z0-9]\S*.*" oninvalid="this.setCustomValidity('Username should not start with a space')" oninput="setCustomValidity('')"  maxlength="10">
                                    </div>
                                    <div class="form-group">
                                        <label><a style="color: red;">* </a>Assiggned Location</label>
                                        <select name="assigned_location" class="form-control" id="assigned_location" required>
                                            <option value="" disabled selected> Seclect Barangay</option>
                                            <option value="Balibago">Balibago</option>
                                            <option value="Caingin">Caingin</option>
                                            <option value="Dila">Dila</option>
                                            <option value="Dita">Dita</option>
                                            <option value="Don Jose">Don Jose</option>
                                            <option value="Ibaba">Ibaba</option>
                                            <option value="Kanluran">Kanluran</option>
                                            <option value="Labas">Labas</option>
                                            <option value="Macabling">Macabling</option>
                                            <option value="Malitlit">Malitlit</option>
                                            <option value="Market Area">Market Area</option>
                                            <option value="Poblacion">Poblacion</option>
                                            <option value="Santo Domingo">Santo Domingo</option>
                                            <option value="Sinalhan">Sinalhan</option>
                                            <option value="Tagapo">Tagapo</option>
                                        </select>
                                    </div>   
                                </div>
                                <div class="col-lg-3 col-sm-6 col-12">
                                    <div class="form-group">
                                        <label><a style="color: red;">* </a>First Name</label>
                                        <input type="text" name="first_name" required  required pattern="[a-zA-Z0-9]\S*.*" oninvalid="this.setCustomValidity('Name should not start with a space')" oninput="setCustomValidity('')"  maxlength="25">
                                    </div>
                                    <div class="form-group">
                                        <label><a style="color: red;">* </a> Password</label>
                                        <div class="pass-group">
                                            <input name="password" id="password" type="password" class="pass-inputs"  placeholder=" maximum of 11 characters" maxlength="11" minlength="7" required>
                                           
                                        </div>
                                    </div>
                                   
                                </div>
                                <div class="col-lg-3 col-sm-6 col-12">
                                    <div class="form-group">
                                        <label><a style="color: red;">* </a>Last Name</label>
                                        <input type="text" name="last_name" required required pattern="[a-zA-Z0-9]\S*.*" oninvalid="this.setCustomValidity('Lastname should not start with a space')" oninput="setCustomValidity('')"  maxlength="25">
                                    </div>
                                    <div class="form-group">
                                        <label><a style="color: red;">* </a>Confirm Password</label>
                                        <input type="password" id="confirm_password" name="confirm_password" class="pass-inputs"  placeholder=" maximum of 11 characters" minlength="7" maxlength="11" required>
                                    </div>
                                    
                                    
                                </div>
                                <div class="col-lg-3 col-sm-6 col-12">
                                    <div class="form-group">
                                        <label><a style="color: red;">* </a>Email</label>
                                        <input type="email" name="email" class="form-control" required   required pattern="^(?!.*\.c0m).*$" maxlength="255">
                                    </div>
                                 
                                </div>
                                <div class="form-group">
                                    <label for="profile_image"><a style="color: red;">* </a>Profile Picture</label>
                                    <input name="profile_image" id="profile_image" type="file" required>
                                </div>
                                  
                                <div class="col-lg-6">
                                    <button type="submit" class="btn btn-submit me-2">Add</button>
                                    <a  href="{{url_for('enforcer.enforcer_data')}}" type="button" class="btn btn-cancel">Cancel</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>

                </div>
               
          
            </div>
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/jquery-3.6.0.min.js') }}"></script>
        <!-- Include other JavaScript files -->
        <script>
            $(document).ready(function() {
                // Store the initial form state
                var initialFormState = $('form').serialize();
            
                // Function to show confirmation dialog when leaving the page
                function beforeUnloadHandler(e) {
                    // If the current form state is different from the initial state
                    var currentFormState = $('form').serialize();
                    if (currentFormState !== initialFormState) {
                        // Customize the confirmation message
                        var confirmationMessage = 'You have unsaved changes. Are you sure you want to leave this page?';
                        
                        // For all browsers except Microsoft Edge
                        e.returnValue = confirmationMessage;
                        return confirmationMessage;
                    }
                }
            
                window.addEventListener('beforeunload', beforeUnloadHandler);
            
                // Function to remove event listener when submitting the form
                $('form').submit(function() {
                    // Remove the beforeunload event listener
                    window.removeEventListener('beforeunload', beforeUnloadHandler);
                });
            });
        </script>


{% else %}
<script>
    

window.onload = function() {
    window.location.href = "{{ url_for('admin_signin') }}";
}
</script>
{% endif %}
    <script src="{{ url_for('static', filename='js/jquery-3.6.0.min.js') }}"></script>

    <script src="{{ url_for('static', filename='js/feather.min.js') }}"></script>

    <script src="{{ url_for('static', filename='js/jquery.slimscroll.min.js') }}"></script>

    <script src="{{ url_for('static', filename='js/jquery.dataTables.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/dataTables.bootstrap4.min.js') }}"></script>

    <script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>

    <script src="{{ url_for('static', filename='plugins/select2/js/select2.min.js') }}"></script>

    <script src="{{ url_for('static', filename='plugins/sweetalert/sweetalert2.all.min.js') }}"></script>
    <script src="{{ url_for('static', filename='plugins/sweetalert/sweetalerts.min.js') }}"></script>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jquery-3.6.0.min.js') }}"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script> 

    <script src="{{ url_for('static', filename='javascript/Error-handling.js') }}"></script>
    
    </script>
    
  
    
    
    
</body>

</html>